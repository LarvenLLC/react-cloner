{"version":3,"sources":["../../src/primitive.js","../../src/index.js","App.js","index.js"],"names":["Slot","forwardRef","props","forwardedRef","refs","children","slotProps","_objectWithoutPropertiesLoose","_excluded","isValidElement","cloneElement","_extends","parentProps","childProps","overrideProps","_loop","parentPropValue","propName","childPropValue","test","_len","arguments","length","args","Array","_key","apply","filter","Boolean","join","mergeReactProps","ref","instance","forEach","current","setRef","Primitive","_props$as","as","asChild","restProps","_excluded2","Wrapper","React","createElement","Cloner","_ref","title","initialItems","addButtonClassName","component","componentWrapperStyle","componentWrapperClassName","deleteButtonClassName","deleteButtonWrapperClassName","shouldRemoveDeleteWrapper","addButtonPosition","labelClassName","_onDelete","onDelete","shouldHideLabel","_useState","useState","items","setItems","useEffect","tempArr","i","push","addItem","useCallback","e","preventDefault","len","concat","removeItems","number","el","Fragment","map","ComponentWrapper","increment","key","style","textAlign","type","className","onClick","_ref2","displayName","defaultProps","ContactPerson","name","class","App","onSubmit","event","_step","form","formData","FormData","target","_iterator","_createForOfIteratorHelper","entries","s","n","done","pair","value","err","f","alert","JSON","stringify","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c30f2b43.chunk.js","sourcesContent":["import React, { cloneElement, forwardRef, isValidElement } from 'react'\n\nexport function mergeReactProps(parentProps, childProps) {\n  // All child props should override.\n  const overrideProps = { ...childProps }\n\n  for (const propName in childProps) {\n    const parentPropValue = parentProps[propName]\n    const childPropValue = childProps[propName]\n\n    const isHandler = /^on[A-Z]/.test(propName)\n    // If it's a handler, modify the override by composing the base handler.\n    if (isHandler) {\n      // Only compose the handlers if both exist.\n      if (childPropValue && parentPropValue) {\n        overrideProps[propName] = (...args) => {\n          childPropValue?.(...args)\n          parentPropValue?.(...args)\n        }\n        // Otherwise, avoid creating an unnecessary callback.\n      } else if (parentPropValue) {\n        overrideProps[propName] = parentPropValue\n      }\n    } else if (propName === 'style') {\n      overrideProps[propName] = { ...parentPropValue, ...childPropValue }\n    } else if (propName === 'className') {\n      overrideProps[propName] = [parentPropValue, childPropValue]\n        .filter(Boolean)\n        .join(' ')\n    }\n  }\n\n  return { ...parentProps, ...overrideProps }\n}\n\n/**\n * Handles setting callback refs and MutableRefObjects.\n * @param ref The ref to use for the instance.\n * @param instance The instance being set.\n */\nfunction setRef(ref, instance) {\n  if (ref) {\n    ref(instance)\n  } else if (ref != null) {\n    ref.current = instance\n  }\n}\n\nexport function combinedRef(refs) {\n  return (instance) => refs.forEach((ref) => setRef(ref, instance))\n}\n\nexport const Slot = forwardRef((props, forwardedRef) => {\n  const { children, ...slotProps } = props\n\n  if (!isValidElement(children)) {\n    return null\n  }\n  return cloneElement(children, {\n    ...mergeReactProps(slotProps, children.props),\n    ref: combinedRef([forwardedRef, children.ref])\n  })\n})\n\nexport const Primitive = forwardRef((props, forwardedRef) => {\n  const { children, as = 'div', asChild, ...restProps } = props\n  const Wrapper = asChild ? Slot : as\n  return (\n    <Wrapper {...restProps} ref={forwardedRef}>\n      {children}\n    </Wrapper>\n  )\n})\n\nPrimitive.displayName = 'Primitive'\n\nexport default Primitive\n","import React, {\n  cloneElement,\n  Fragment,\n  useCallback,\n  useEffect,\n  useState\n} from 'react'\nimport Primitive from './primitive'\n\nexport default function Cloner({\n  title,\n  initialItems,\n  addButtonClassName,\n  component,\n  componentWrapperStyle,\n  componentWrapperClassName,\n  deleteButtonClassName,\n  deleteButtonWrapperClassName,\n  shouldRemoveDeleteWrapper,\n  addButtonPosition,\n  labelClassName,\n  onDelete,\n  shouldHideLabel\n}) {\n  const [items, setItems] = useState([])\n\n  useEffect(() => {\n    const tempArr = []\n    for (let i = 0; i < initialItems; i++) {\n      tempArr.push(i)\n    }\n    setItems(tempArr)\n  }, [initialItems])\n\n  const addItem = useCallback((e) => {\n    e.preventDefault()\n    const tempArr = []\n    const len = items.length + 1\n    for (let i = 2; i <= len; i++) {\n      tempArr.push(i)\n    }\n    setItems([...items, tempArr])\n  }, [])\n\n  const removeItems = useCallback((number) => {\n    let tempArr = items\n    tempArr = tempArr.filter((el) => el !== number)\n    setItems(tempArr)\n  }, [])\n\n  return (\n    <Fragment>\n      {items.map((el, i) =>\n        cloneElement(\n          <ComponentWrapper\n            title={title}\n            component={component}\n            componentWrapperStyle={componentWrapperStyle}\n            componentWrapperClassName={componentWrapperClassName}\n            deleteButtonClassName={deleteButtonClassName}\n            deleteButtonWrapperClassName={deleteButtonWrapperClassName}\n            shouldRemoveDeleteWrapper={shouldRemoveDeleteWrapper}\n            labelClassName={labelClassName}\n            onDelete={() => {\n              removeItems(el)\n              onDelete && onDelete()\n            }}\n            shouldHideLabel={shouldHideLabel}\n          />,\n          { increment: i + 1, key: el },\n          null\n        )\n      )}\n      <div style={{ textAlign: `${addButtonPosition}` }}>\n        <button type='button' className={addButtonClassName} onClick={addItem}>\n          Add {title}\n        </button>\n      </div>\n    </Fragment>\n  )\n}\n\nCloner.defaultProps = {\n  initialItems: 1,\n  addButtonPosition: 'right',\n  shouldHideLabel: false,\n  shouldRemoveDeleteWrapper: false\n}\n\nfunction ComponentWrapper({\n  title,\n  component,\n  increment,\n  componentWrapperStyle,\n  componentWrapperClassName,\n  deleteButtonClassName,\n  deleteButtonWrapperClassName,\n  shouldRemoveDeleteWrapper,\n  labelClassName,\n  shouldHideLabel,\n  onDelete\n}) {\n  return (\n    <>\n      {increment > 1 && !shouldHideLabel ? (\n        <div className={labelClassName}>{`${title} ${increment}`}</div>\n      ) : null}\n      <div className={componentWrapperClassName} style={componentWrapperStyle}>\n        <>{cloneElement(component, { increment })}</>\n        <Primitive\n          className={deleteButtonWrapperClassName}\n          asChild={shouldRemoveDeleteWrapper}\n        >\n          {increment !== 1 ? (\n            <button\n              type='button'\n              onClick={onDelete}\n              className={deleteButtonClassName}\n            >\n              Delete\n            </button>\n          ) : null}\n        </Primitive>\n      </div>\n    </>\n  )\n}\n","import React from 'react'\n\nimport Cloner from 'react-cloner'\n\nconst App = () => {\n  function handleSubmit(event) {\n    event.preventDefault()\n    let form = {},\n      formData = new FormData(event.target)\n    for (let pair of formData.entries()) {\n      let key = pair[0],\n        value = pair[1]\n      form[key] = value\n    }\n    alert(JSON.stringify(form, 0, 2))\n  }\n  return (\n    <div className='col py-3'>\n      <form onSubmit={handleSubmit}>\n        <Cloner\n          title='Contact Person'\n          addButtonClassName='btn btn-outline-primary'\n          deleteButtonClassName='btn btn-outline-danger'\n          deleteButtonWrapperClassName='form-group'\n          component={<ContactPerson />}\n          componentWrapperClassName='d-flex w-100 align-items-end justify-content-between mb-3'\n        />\n        <button type='submit' className='btn btn-primary'>\n          Submit\n        </button>\n      </form>\n    </div>\n  )\n}\n\nfunction ContactPerson({ increment }) {\n  return (\n    <div className='row w-100 mx-auto'>\n      <div className='pl-0 col col-12 col-md-4 form-group'>\n        <label>Name</label>\n        <input name={`contact-person-name-${increment}`} class='form-control' />\n      </div>\n      <div className='px-0 col col-12 col-md-5 form-group'>\n        <label>Email</label>\n        <input\n          name={`contact-person-email-${increment}`}\n          class='form-control'\n        />\n      </div>\n      <div\n        className={`${\n          increment === 1 ? 'pr-0' : ''\n        } col col-12 col-md-3 form-group`}\n      >\n        <label>Phone</label>\n        <input\n          name={`contact-person-phone-${increment}`}\n          class='form-control'\n        />\n      </div>\n    </div>\n  )\n}\n\nexport default App\n","import './index.css'\nimport 'bootstrap/dist/css/bootstrap.min.css'\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}